<!-- block.html.erb -->

<%= render 'shared/flash_messages' %>

<%= form_for(@member, html: { class: "form login" }) do |f| %>
  <% unless @member.errors.empty? && @user.errors.empty? %>
    <div id="errorExplanation" class="group">
      <ul>
        <%= @member.errors.full_messages.uniq.map { |msg| "<li>#{msg}</li>" }.join.html_safe %>
        <%= @user.errors.full_messages.uniq.map { |msg| "<li>#{msg}</li>" }.join.html_safe %>
      </ul>
    </div>
  <% end %>

  <%= f.fields_for(:user) do |w| %>
    <div class="group">
      <%= w.label :email, class: "label" %>
      <%= w.text_field :email, class: "text_field" %>
      <span class="description">Ex. test@example.com; must be unique</span>
    </div>
  <% end %>

  <div class="group">
    <%= f.label :first_name, class: "label" %>
    <%= f.text_field :first_name, class: "text_field" %>
  </div>

  <div class="group">
    <%= f.label :last_name, class: "label" %>
    <%= f.text_field :last_name, class: "text_field" %>
  </div>

  <div class="group navform wat-cf">
    <%= button_tag(type: "submit", class: "button") do %>
      Create user and invite
    <% end %>
  </div>
<% end %>
